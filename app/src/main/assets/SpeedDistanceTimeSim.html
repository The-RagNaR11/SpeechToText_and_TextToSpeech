<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Speed-Distance-Time Simulator</title>
    <style>
        :root {
            --primary: #3b82f6;
            --primary-light: #60a5fa;
            --secondary: #10b981;
            --danger: #ef4444;
            --warning: #f59e0b;
            --bg: #f8fafc;
            --card: #ffffff;
            --text: #1e293b;
            --text-muted: #64748b;
            --border: #e2e8f0;
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }

        * {
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--bg);
            margin: 0;
            padding: 0;
            color: var(--text);
            line-height: 1.6;
            -webkit-text-size-adjust: 100%;
            -webkit-tap-highlight-color: transparent;
        }

        .container {
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            padding: 12px;
            gap: 16px;
        }

        .header {
            background: linear-gradient(135deg, var(--primary), var(--primary-light));
            color: white;
            padding: 16px;
            border-radius: 16px;
            text-align: center;
            box-shadow: var(--shadow);
        }

        .header h1 {
            margin: 0;
            font-size: 24px;
            font-weight: 700;
        }

        .header p {
            margin: 8px 0 0 0;
            opacity: 0.9;
            font-size: 14px;
        }

        .simulator {
            background: var(--card);
            border-radius: 20px;
            padding: 20px;
            box-shadow: var(--shadow);
            border: 1px solid var(--border);
        }

        .track {
            width: 100%;
            height: 80px;
            background: linear-gradient(90deg, #e5e7eb 0%, #d1d5db 100%);
            border-radius: 12px;
            position: relative;
            overflow: hidden;
            margin: 20px 0;
            border: 2px solid var(--border);
        }

        .object {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #ef4444, #dc2626);
            border-radius: 50%;
            position: absolute;
            top: 50%;
            left: 4px;
            transform: translateY(-50%);
            transition: left 0.1s linear;
            box-shadow: 0 4px 8px rgba(239, 68, 68, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 12px;
        }

        .object::after {
            content: 'üèÉ';
            font-size: 16px;
        }

        .controls {
            display: flex;
            flex-direction: column;
            gap: 20px;
            margin: 20px 0;
        }

        .control-group {
            background: rgba(59, 130, 246, 0.05);
            padding: 16px;
            border-radius: 12px;
            border: 1px solid rgba(59, 130, 246, 0.1);
        }

        .control-label {
            font-size: 16px;
            font-weight: 600;
            color: var(--text);
            margin-bottom: 12px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .control-value {
            color: var(--primary);
            font-size: 18px;
            font-weight: 700;
        }

        .slider {
            width: 100%;
            height: 8px;
            border-radius: 4px;
            background: var(--border);
            outline: none;
            -webkit-appearance: none;
            margin: 12px 0;
        }

        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 28px;
            height: 28px;
            border-radius: 50%;
            background: var(--primary);
            cursor: pointer;
            box-shadow: 0 2px 8px rgba(59, 130, 246, 0.4);
            transition: transform 0.2s;
        }

        .slider::-webkit-slider-thumb:active {
            transform: scale(1.1);
        }

        .slider::-moz-range-thumb {
            width: 28px;
            height: 28px;
            border-radius: 50%;
            background: var(--primary);
            cursor: pointer;
            border: none;
            box-shadow: 0 2px 8px rgba(59, 130, 246, 0.4);
        }

        .buttons {
            display: flex;
            gap: 12px;
            margin: 20px 0;
        }

        .btn {
            flex: 1;
            padding: 14px 20px;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            min-height: 52px;
            touch-action: manipulation;
        }

        .btn:active {
            transform: scale(0.98);
        }

        .btn-start {
            background: var(--secondary);
            color: white;
        }

        .btn-stop {
            background: var(--danger);
            color: white;
        }

        .btn-reset {
            background: var(--warning);
            color: white;
        }

        .formula-card {
            background: linear-gradient(135deg, #f3f4f6, #e5e7eb);
            padding: 20px;
            border-radius: 16px;
            text-align: center;
            margin: 20px 0;
            border: 2px solid var(--border);
        }

        .formula-title {
            font-size: 14px;
            color: var(--text-muted);
            margin-bottom: 8px;
            font-weight: 500;
        }

        .formula-main {
            font-size: 20px;
            font-weight: 700;
            color: var(--text);
            margin-bottom: 8px;
        }

        .formula-calculation {
            font-size: 18px;
            color: var(--primary);
            font-weight: 600;
        }

        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
            gap: 12px;
            margin: 20px 0;
        }

        .stat-card {
            background: var(--card);
            padding: 16px;
            border-radius: 12px;
            text-align: center;
            border: 1px solid var(--border);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }

        .stat-label {
            font-size: 12px;
            color: var(--text-muted);
            margin-bottom: 4px;
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .stat-value {
            font-size: 24px;
            font-weight: 700;
            color: var(--primary);
        }

        .stat-unit {
            font-size: 14px;
            color: var(--text-muted);
            margin-left: 2px;
        }

        .chatbot-section {
            background: var(--card);
            border-radius: 20px;
            padding: 20px;
            box-shadow: var(--shadow);
            border: 1px solid var(--border);
            display: flex;
            flex-direction: column;
            max-height: 400px;
        }

        .chatbot-header {
            font-size: 20px;
            font-weight: 700;
            color: var(--text);
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .chatbot-header::before {
            content: 'ü§ñ';
            font-size: 24px;
        }

        .chatbot {
            flex: 1;
            border: 2px solid var(--border);
            border-radius: 12px;
            padding: 16px;
            background: #fafbfc;
            overflow-y: auto;
            margin-bottom: 12px;
            min-height: 200px;
            max-height: 250px;
        }

        .chat-message {
            margin: 8px 0;
            padding: 8px 12px;
            border-radius: 12px;
            max-width: 85%;
        }

        .chat-user {
            background: var(--primary);
            color: white;
            margin-left: auto;
            border-bottom-right-radius: 4px;
        }

        .chat-bot {
            background: var(--card);
            color: var(--text);
            border: 1px solid var(--border);
            border-bottom-left-radius: 4px;
        }

        .chat-input-container {
            display: flex;
            gap: 8px;
        }

        .chat-input {
            flex: 1;
            padding: 12px 16px;
            border: 2px solid var(--border);
            border-radius: 12px;
            font-size: 16px;
            background: var(--card);
            transition: border-color 0.2s;
        }

        .chat-input:focus {
            outline: none;
            border-color: var(--primary);
        }

        .chat-send {
            padding: 12px 20px;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            min-width: 80px;
        }

        .chat-send:active {
            transform: scale(0.98);
            background: var(--primary-light);
        }

        .progress-bar {
            width: 100%;
            height: 6px;
            background: var(--border);
            border-radius: 3px;
            margin: 16px 0;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--secondary), var(--primary));
            width: 0%;
            transition: width 0.1s linear;
            border-radius: 3px;
        }

        .tips-card {
            background: linear-gradient(135deg, #ecfdf5, #d1fae5);
            padding: 16px;
            border-radius: 12px;
            margin: 16px 0;
            border-left: 4px solid var(--secondary);
        }

        .tips-title {
            font-weight: 600;
            color: var(--secondary);
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .tips-title::before {
            content: 'üí°';
        }

        .tips-list {
            font-size: 14px;
            color: var(--text);
            margin: 0;
            padding-left: 16px;
        }

        .tips-list li {
            margin: 4px 0;
        }

        /* Mobile responsiveness */
        @media (max-width: 768px) {
            .container {
                padding: 8px;
                gap: 12px;
            }

            .header h1 {
                font-size: 20px;
            }

            .simulator, .chatbot-section {
                padding: 16px;
            }

            .track {
                height: 70px;
                margin: 16px 0;
            }

            .object {
                width: 35px;
                height: 35px;
            }

            .buttons {
                flex-direction: column;
            }

            .btn {
                margin-bottom: 8px;
            }

            .formula-main {
                font-size: 18px;
            }

            .formula-calculation {
                font-size: 16px;
            }
        }

        @media (max-width: 480px) {
            .header h1 {
                font-size: 18px;
            }

            .control-label {
                font-size: 14px;
            }

            .control-value {
                font-size: 16px;
            }

            .stat-value {
                font-size: 20px;
            }

            .chatbot {
                min-height: 150px;
                max-height: 200px;
            }
        }
    </style>
</head>
<body>

<div class="container">
    <!-- Header -->
    <div class="header">
        <h1>Speed-Distance-Time Simulator</h1>
        <p>Interactive learning tool to understand motion concepts</p>
    </div>

    <!-- Main Simulator -->
    <div class="simulator">
        <div class="track">
            <div class="object" id="object"></div>
        </div>

        <!-- Progress Bar -->
        <div class="progress-bar">
            <div class="progress-fill" id="progressFill"></div>
        </div>

        <!-- Controls -->
        <div class="controls">
            <div class="control-group">
                <div class="control-label">
                    <span>üèÉ‚Äç‚ôÇÔ∏è Speed</span>
                    <span class="control-value"><span id="speedValue">5</span> m/s</span>
                </div>
                <input type="range" class="slider" id="speed" min="1" max="20" value="5">
            </div>

            <div class="control-group">
                <div class="control-label">
                    <span>üìè Distance</span>
                    <span class="control-value"><span id="distanceValue">100</span> m</span>
                </div>
                <input type="range" class="slider" id="distance" min="50" max="500" value="100">
            </div>
        </div>

        <!-- Action Buttons -->
        <div class="buttons">
            <button class="btn btn-start" onclick="startSimulation()">‚ñ∂Ô∏è Start</button>
            <button class="btn btn-stop" onclick="stopSimulation()">‚èπÔ∏è Stop</button>
            <button class="btn btn-reset" onclick="resetSimulation()">üîÑ Reset</button>
        </div>

        <!-- Stats Display -->
        <div class="stats">
            <div class="stat-card">
                <div class="stat-label">Speed</div>
                <div class="stat-value"><span id="statSpeed">5</span><span class="stat-unit">m/s</span></div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Distance</div>
                <div class="stat-value"><span id="statDistance">100</span><span class="stat-unit">m</span></div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Time</div>
                <div class="stat-value"><span id="statTime">20.0</span><span class="stat-unit">s</span></div>
            </div>
        </div>

        <!-- Formula Card -->
        <div class="formula-card">
            <div class="formula-title">Motion Formula</div>
            <div class="formula-main">Speed = Distance √∑ Time</div>
            <div class="formula-calculation" id="formulaValues">5 = 100 √∑ 20.0</div>
        </div>

        <!-- Tips -->
        <div class="tips-card">
            <div class="tips-title">Quick Tips</div>
            <ul class="tips-list">
                <li>Higher speed means less time for same distance</li>
                <li>Watch the progress bar to see motion in real-time</li>
                <li>Try different combinations to see how they relate</li>
            </ul>
        </div>
    </div>

    <!-- Chatbot Section -->
    <div class="chatbot-section">
        <div class="chatbot-header">AI Physics Tutor</div>
        <div class="chatbot" id="chatbot">
            <div class="chat-message chat-bot">
                Hi! I'm your physics tutor! üéì I can help you understand speed, distance, and time relationships. Try adjusting the sliders above and ask me questions!
            </div>
        </div>
        <div class="chat-input-container">
            <input type="text" class="chat-input" id="userInput" placeholder="Ask me about physics...">
            <button class="chat-send" onclick="sendMessage()">Send</button>
        </div>
    </div>
</div>

<script>
    // Get DOM elements
    let object = document.getElementById('object');
    let speedSlider = document.getElementById('speed');
    let distanceSlider = document.getElementById('distance');
    let speedValue = document.getElementById('speedValue');
    let distanceValue = document.getElementById('distanceValue');
    let formulaValues = document.getElementById('formulaValues');
    let progressFill = document.getElementById('progressFill');

    // Stats elements
    let statSpeed = document.getElementById('statSpeed');
    let statDistance = document.getElementById('statDistance');
    let statTime = document.getElementById('statTime');

    // Variables
    let speed = parseInt(speedSlider.value);
    let distance = parseInt(distanceSlider.value);
    let time = distance / speed;
    let animation;
    let position = 0;
    let isRunning = false;
    let startTime;

    // Update speed
    speedSlider.oninput = function() {
        speed = parseInt(this.value);
        speedValue.textContent = speed;
        statSpeed.textContent = speed;
        updateFormula();
        if (!isRunning) resetSimulation();
    };

    // Update distance
    distanceSlider.oninput = function() {
        distance = parseInt(this.value);
        distanceValue.textContent = distance;
        statDistance.textContent = distance;
        updateFormula();
        if (!isRunning) resetSimulation();
    };

    function updateFormula() {
        time = (distance / speed);
        let timeFormatted = time.toFixed(1);

        formulaValues.textContent = `${speed} = ${distance} √∑ ${timeFormatted}`;
        statTime.textContent = timeFormatted;
    }

    function startSimulation() {
        if (isRunning) return;

        isRunning = true;
        let trackWidth = document.querySelector('.track').offsetWidth - 44; // Account for object width
        let pixelsPerMeter = trackWidth / distance;
        let totalTimeMs = time * 1000; // Convert to milliseconds
        startTime = Date.now();

        clearInterval(animation);

        animation = setInterval(() => {
            let elapsed = (Date.now() - startTime) / 1000; // Elapsed time in seconds
            let expectedDistance = Math.min(speed * elapsed, distance);
            let newPosition = expectedDistance * pixelsPerMeter;

            // Update position
            position = newPosition;
            object.style.left = (position + 4) + 'px';

            // Update progress bar
            let progress = (expectedDistance / distance) * 100;
            progressFill.style.width = progress + '%';

            // Check if finished
            if (expectedDistance >= distance) {
                clearInterval(animation);
                isRunning = false;
                addChatMessage('bot', `üéâ Simulation complete! The object traveled ${distance}m in ${time.toFixed(1)} seconds at ${speed}m/s.`);
            }
        }, 50); // Update every 50ms for smooth animation

        addChatMessage('bot', `üöÄ Starting simulation! Speed: ${speed}m/s, Distance: ${distance}m, Time: ${time.toFixed(1)}s`);
    }

    function stopSimulation() {
        clearInterval(animation);
        isRunning = false;
        addChatMessage('bot', '‚èπÔ∏è Simulation stopped.');
    }

    function resetSimulation() {
        clearInterval(animation);
        isRunning = false;
        position = 0;
        object.style.left = '4px';
        progressFill.style.width = '0%';
    }

    function sendMessage() {
        let input = document.getElementById('userInput').value.trim();
        if (!input) return;

        addChatMessage('user', input);
        document.getElementById('userInput').value = '';

        // Simple chatbot responses
        setTimeout(() => {
            let response = generateResponse(input.toLowerCase());
            addChatMessage('bot', response);
        }, 500);
    }

    function addChatMessage(sender, message) {
        let chatbot = document.getElementById('chatbot');
        let messageDiv = document.createElement('div');
        messageDiv.className = `chat-message chat-${sender}`;
        messageDiv.textContent = message;
        chatbot.appendChild(messageDiv);
        chatbot.scrollTop = chatbot.scrollHeight;
    }

    function generateResponse(input) {
        // Simple keyword-based responses
        if (input.includes('speed') || input.includes('fast') || input.includes('slow')) {
            return `üèÉ‚Äç‚ôÇÔ∏è Speed is how fast something moves! It's measured in meters per second (m/s). Higher speed means covering more distance in less time. Current speed: ${speed}m/s`;
        } else if (input.includes('distance') || input.includes('far') || input.includes('meter')) {
            return `üìè Distance is how far something travels! It's the total path length, measured in meters (m). Current distance: ${distance}m`;
        } else if (input.includes('time') || input.includes('second') || input.includes('duration')) {
            return `‚è±Ô∏è Time is how long it takes to travel a distance! It's measured in seconds (s). Time = Distance √∑ Speed. Current time: ${time.toFixed(1)}s`;
        } else if (input.includes('formula') || input.includes('equation') || input.includes('calculate')) {
            return `üßÆ The key formula is: Speed = Distance √∑ Time. You can rearrange it: Distance = Speed √ó Time, or Time = Distance √∑ Speed. Try changing the sliders to see how they relate!`;
        } else if (input.includes('why') || input.includes('how') || input.includes('explain')) {
            return `ü§î Great question! Speed, distance, and time are related. If you go faster (higher speed), you'll cover the same distance in less time. If you go slower, it takes more time. The formula connects all three: Speed = Distance √∑ Time`;
        } else if (input.includes('help') || input.includes('what')) {
            return `üí° I can help you understand: Speed (how fast), Distance (how far), Time (how long), and their relationships. Try asking about any of these concepts or the formula!`;
        } else {
            return `ü§ñ That's interesting! Try asking me about speed, distance, time, or their relationship. You can also ask me to explain the formula or concepts!`;
        }
    }

    // Add haptic feedback for mobile
    document.querySelectorAll('.btn, .chat-send').forEach(btn => {
        btn.addEventListener('touchstart', () => {
            if (window.navigator && window.navigator.vibrate) {
                window.navigator.vibrate(10);
            }
        });
    });

    // Enter key to send message
    document.getElementById('userInput').addEventListener('keydown', (e) => {
        if (e.key === 'Enter') {
            e.preventDefault();
            sendMessage();
        }
    });

    // Prevent zoom on input focus
    document.getElementById('userInput').addEventListener('focus', function() {
        this.style.fontSize = '16px';
    });

    // Initialize
    updateFormula();
    resetSimulation();

    // Add some sample interactions on load
    setTimeout(() => {
        addChatMessage('bot', '‚ú® Try adjusting the speed and distance sliders, then hit Start to see the motion! Ask me questions anytime.');
    }, 1000);
</script>

</body>
</html>